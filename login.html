<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Daltonic | Login</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Information About Me -->
    <meta name="title" content="Darlington Gospel Portfolio" />
    <meta
      name="description"
      content="Take a look at my portfolio here in my site."
    />
    <meta name="keywords" content="Portfolio, Resume, Experiences" />

    <!-- FAV AND ICONS   -->
    <link rel="shortcut icon" href="assets/images/favicon.ico" />

    <!-- Google Font-->
    <link
      href="http://fonts.googleapis.com/css?family=Roboto"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="assets/icons/font-awesome-4.7.0/css/font-awesome.min.css"
    />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/plugins/css/bootstrap.min.css" />
    <!-- Animate CSS-->
    <link rel="stylesheet" href="assets/plugins/css/animate.css" />
    <!-- Owl Carousel CSS-->
    <link rel="stylesheet" href="assets/plugins/css/owl.css" />
    <!-- Fancybox-->
    <link rel="stylesheet" href="assets/plugins/css/jquery.fancybox.min.css" />
    <!-- Custom CSS-->
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/responsive.css" />
  </head>
  <body class="dark-vertion black-bg">
    <!-- Start Loader -->
    <div class="section-loader">
      <div class="loader">
        <div></div>
        <div></div>
      </div>
    </div>
    <!-- End Loader -->

    <!--
    ===================
       FOOTER 1
    ===================
    -->
    <footer class="mh-footer" id="mh-contact">
      <div class="map-image image-bg">
        <div class="container">
          <div class="row section-separator">
            <div
              class="col-sm-12 section-title wow fadeInUp"
              data-wow-duration="0.8s"
              data-wow-delay="0.2s"
            >
              <h3>Login</h3>
            </div>
            <div
              class="col-sm-12 col-md-12 wow fadeInUp"
              data-wow-duration="0.8s"
              data-wow-delay="0.3s"
            >
              <form
                id="login-form"
                class="single-form quate-form wow fadeInUp"
                data-toggle="validator"
              >
                <div id="msgSubmit" class="h3 text-center hidden"></div>
                <div class="row">
                  <div class="col-sm-12">
                    <input
                      name="email"
                      class="contact-subject form-control"
                      id="email"
                      type="email"
                      placeholder="Your Email"
                      required
                    />
                  </div>
                  <div class="col-sm-12">
                    <input
                      name="password"
                      class="contact-subject form-control"
                      id="password"
                      type="password"
                      placeholder="Your Password"
                      required
                    />
                  </div>
                  <div class="btn-form col-sm-12">
                    <button
                      type="submit"
                      class="btn btn-fill btn-block"
                      id="form-login"
                    >
                      Login
                    </button>
                  </div>
                </div>
              </form>
            </div>
            <div
              class="col-sm-12 mh-copyright wow fadeInUp"
              data-wow-duration="0.8s"
              data-wow-delay="0.3s"
            >
              <div class="row">
                <div class="col-sm-6">
                  <div class="text-left text-xs-center">
                    <p>
                      <a href="templateshub.net"
                        >With Love ❤️ &copy;
                        <script type="text/javascript">
                          document.write(new Date().getFullYear().toString())
                        </script>
                      </a>
                    </p>
                  </div>
                </div>
                <div class="col-sm-6">
                  <ul class="social-icon">
                    <li>
                      <a href="https://fb.com/darlington.gospel01"
                        ><i class="fa fa-facebook"></i
                      ></a>
                    </li>
                    <li>
                      <a href="https://twitter.com/idaltonic"
                        ><i class="fa fa-twitter"></i
                      ></a>
                    </li>
                    <li>
                      <a href="https://github.com/Daltonic"
                        ><i class="fa fa-github"></i
                      ></a>
                    </li>
                    <li>
                      <a
                        href="https://www.linkedin.com/in/darlington-gospel-aa626b125/"
                        ><i class="fa fa-linkedin"></i
                      ></a>
                    </li>
                    <li>
                      <a href="https://medium.com/@daltonic"
                        ><i class="fa fa-medium"></i
                      ></a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!--
    ==============
    * JS Files *
    ==============
    -->

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <!-- jQuery -->
    <script src="assets/plugins/js/jquery.min.js"></script>
    <!-- popper -->
    <script src="assets/plugins/js/popper.min.js"></script>
    <!-- bootstrap -->
    <script src="assets/plugins/js/bootstrap.min.js"></script>
    <!-- owl carousel -->
    <script src="assets/plugins/js/owl.carousel.js"></script>
    <!-- validator -->
    <script src="assets/plugins/js/validator.min.js"></script>
    <!-- wow -->
    <script src="assets/plugins/js/wow.min.js"></script>
    <!-- mixin js-->
    <script src="assets/plugins/js/jquery.mixitup.min.js"></script>
    <!-- circle progress-->
    <script src="assets/plugins/js/circle-progress.js"></script>
    <!-- jquery nav -->
    <script src="assets/plugins/js/jquery.nav.js"></script>
    <!-- Fancybox js-->
    <script src="assets/plugins/js/jquery.fancybox.min.js"></script>
    <!-- isotope js-->
    <script src="assets/plugins/js/isotope.pkgd.js"></script>
    <script src="assets/plugins/js/packery-mode.pkgd.js"></script>
    <script src="assets/js/custom-scripts.js"></script>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.0.1/firebase-app.js'
      import {
        getAuth,
        onAuthStateChanged,
        signInWithEmailAndPassword,
      } from 'https://www.gstatic.com/firebasejs/9.0.1/firebase-auth.js'

      const firebaseConfig = {
        apiKey: 'AIzaSyAKuTk75jm060EkmkreMhO8I6q4Qz4Xke8',
        authDomain: 'portfolio-56269.firebaseapp.com',
        projectId: 'portfolio-56269',
        storageBucket: 'portfolio-56269.appspot.com',
        messagingSenderId: '298105790192',
        appId: '1:298105790192:web:bf252266e85083980aec35',
        measurementId: 'G-65W5KFL2T2',
      }

      // Initialize Firebase
      const app = initializeApp(firebaseConfig)
      console.log('App initialized successfully!')

      const auth = getAuth()
      onAuthStateChanged(auth, (user) => {
        if (user) {
          console.log(user)
        } else {
          console.log('User not logged in')
        }
      })

      const signIn = (email, password) => {
        signInWithEmailAndPassword(auth, email, password)
          .then((userCredential) => {
            const user = userCredential.user
            localStorage.setItem('user', JSON.stringify(user))
            document.getElementById('login-form').reset()
            window.location.href(`${window.location.origin}/dashboard`)
          })
          .catch((error) => {
            console.log(error)
          })
      }

      document
        .getElementById('login-form')
        .addEventListener('submit', function (e) {
          e.preventDefault()

          const formData = new FormData(e.target)
          const formProps = Object.fromEntries(formData)
          signIn(formProps.email, formProps.password)
        })
    </script>
  </body>
</html>
